(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var le,$,Xe,z,Pe,Ye,Je,Ve,Fe,be,ye,Qe,X={},et=[],gt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ce=Array.isArray;function M(e,t){for(var n in t)e[n]=t[n];return e}function Ae(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ft(e,t,n){var r,o,s,u={};for(s in t)s=="key"?r=t[s]:s=="ref"?o=t[s]:u[s]=t[s];if(arguments.length>2&&(u.children=arguments.length>3?le.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)u[s]===void 0&&(u[s]=e.defaultProps[s]);return te(e,u,r,o,null)}function te(e,t,n,r,o){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Xe,__i:-1,__u:0};return o==null&&$.vnode!=null&&$.vnode(s),s}function ue(e){return e.children}function ne(e,t){this.props=e,this.context=t}function W(e,t){if(t==null)return e.__?W(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?W(e):null}function tt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return tt(e)}}function we(e){(!e.__d&&(e.__d=!0)&&z.push(e)&&!ie.__r++||Pe!=$.debounceRendering)&&((Pe=$.debounceRendering)||Ye)(ie)}function ie(){for(var e,t,n,r,o,s,u,a=1;z.length;)z.length>a&&z.sort(Je),e=z.shift(),a=z.length,e.__d&&(n=void 0,o=(r=(t=e).__v).__e,s=[],u=[],t.__P&&((n=M({},r)).__v=r.__v+1,$.vnode&&$.vnode(n),xe(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,s,o??W(r),!!(32&r.__u),u),n.__v=r.__v,n.__.__k[n.__i]=n,at(s,n,u),n.__e!=o&&tt(n)));ie.__r=0}function nt(e,t,n,r,o,s,u,a,_,p,h){var l,w,v,E,F,b,y=r&&r.__k||et,c=t.length;for(_=mt(n,t,y,_,c),l=0;l<c;l++)(v=n.__k[l])!=null&&(w=v.__i==-1?X:y[v.__i]||X,v.__i=l,b=xe(e,v,w,o,s,u,a,_,p,h),E=v.__e,v.ref&&w.ref!=v.ref&&(w.ref&&Ee(w.ref,null,v),h.push(v.ref,v.__c||E,v)),F==null&&E!=null&&(F=E),4&v.__u||w.__k===v.__k?_=rt(v,_,e):typeof v.type=="function"&&b!==void 0?_=b:E&&(_=E.nextSibling),v.__u&=-7);return n.__e=F,_}function mt(e,t,n,r,o){var s,u,a,_,p,h=n.length,l=h,w=0;for(e.__k=new Array(o),s=0;s<o;s++)(u=t[s])!=null&&typeof u!="boolean"&&typeof u!="function"?(_=s+w,(u=e.__k[s]=typeof u=="string"||typeof u=="number"||typeof u=="bigint"||u.constructor==String?te(null,u,null,null,null):ce(u)?te(ue,{children:u},null,null,null):u.constructor==null&&u.__b>0?te(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=e,u.__b=e.__b+1,a=null,(p=u.__i=_t(u,n,_,l))!=-1&&(l--,(a=n[p])&&(a.__u|=2)),a==null||a.__v==null?(p==-1&&(o>h?w--:o<h&&w++),typeof u.type!="function"&&(u.__u|=4)):p!=_&&(p==_-1?w--:p==_+1?w++:(p>_?w--:w++,u.__u|=4))):e.__k[s]=null;if(l)for(s=0;s<h;s++)(a=n[s])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=W(a)),st(a,a));return r}function rt(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=rt(r[o],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=W(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function _t(e,t,n,r){var o,s,u,a=e.key,_=e.type,p=t[n],h=p!=null&&(2&p.__u)==0;if(p===null&&e.key==null||h&&a==p.key&&_==p.type)return n;if(r>(h?1:0)){for(o=n-1,s=n+1;o>=0||s<t.length;)if((p=t[u=o>=0?o--:s++])!=null&&(2&p.__u)==0&&a==p.key&&_==p.type)return u}return-1}function Te(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||gt.test(t)?n:n+"px"}function ee(e,t,n,r,o){var s,u;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Te(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||Te(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(Ve,"$1")),u=t.toLowerCase(),t=u in e||t=="onFocusOut"||t=="onFocusIn"?u.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Fe,e.addEventListener(t,s?ye:be,s)):e.removeEventListener(t,s?ye:be,s);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function Ie(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Fe++;else if(t.t<n.u)return;return n($.event?$.event(t):t)}}}function xe(e,t,n,r,o,s,u,a,_,p){var h,l,w,v,E,F,b,y,c,d,f,m,g,k,A,N,S,x=t.type;if(t.constructor!=null)return null;128&n.__u&&(_=!!(32&n.__u),s=[a=t.__e=n.__e]),(h=$.__b)&&h(t);e:if(typeof x=="function")try{if(y=t.props,c="prototype"in x&&x.prototype.render,d=(h=x.contextType)&&r[h.__c],f=h?d?d.props.value:h.__:r,n.__c?b=(l=t.__c=n.__c).__=l.__E:(c?t.__c=l=new x(y,f):(t.__c=l=new ne(y,f),l.constructor=x,l.render=bt),d&&d.sub(l),l.props=y,l.state||(l.state={}),l.context=f,l.__n=r,w=l.__d=!0,l.__h=[],l._sb=[]),c&&l.__s==null&&(l.__s=l.state),c&&x.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=M({},l.__s)),M(l.__s,x.getDerivedStateFromProps(y,l.__s))),v=l.props,E=l.state,l.__v=t,w)c&&x.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),c&&l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(c&&x.getDerivedStateFromProps==null&&y!==v&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,f),!l.__e&&l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,f)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(C){C&&(C.__=t)}),m=0;m<l._sb.length;m++)l.__h.push(l._sb[m]);l._sb=[],l.__h.length&&u.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,f),c&&l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(v,E,F)})}if(l.context=f,l.props=y,l.__P=e,l.__e=!1,g=$.__r,k=0,c){for(l.state=l.__s,l.__d=!1,g&&g(t),h=l.render(l.props,l.state,l.context),A=0;A<l._sb.length;A++)l.__h.push(l._sb[A]);l._sb=[]}else do l.__d=!1,g&&g(t),h=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++k<25);l.state=l.__s,l.getChildContext!=null&&(r=M(M({},r),l.getChildContext())),c&&!w&&l.getSnapshotBeforeUpdate!=null&&(F=l.getSnapshotBeforeUpdate(v,E)),N=h,h!=null&&h.type===ue&&h.key==null&&(N=it(h.props.children)),a=nt(e,ce(N)?N:[N],t,n,r,o,s,u,a,_,p),l.base=t.__e,t.__u&=-161,l.__h.length&&u.push(l),b&&(l.__E=l.__=null)}catch(C){if(t.__v=null,_||s!=null)if(C.then){for(t.__u|=_?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,t.__e=a}else{for(S=s.length;S--;)Ae(s[S]);ke(t)}else t.__e=n.__e,t.__k=n.__k,C.then||ke(t);$.__e(C,t,n)}else s==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=vt(n.__e,t,n,r,o,s,u,_,p);return(h=$.diffed)&&h(t),128&t.__u?void 0:a}function ke(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ke)}function at(e,t,n){for(var r=0;r<n.length;r++)Ee(n[r],n[++r],n[++r]);$.__c&&$.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(s){s.call(o)})}catch(s){$.__e(s,o.__v)}})}function it(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ce(e)?e.map(it):M({},e)}function vt(e,t,n,r,o,s,u,a,_){var p,h,l,w,v,E,F,b=n.props,y=t.props,c=t.type;if(c=="svg"?o="http://www.w3.org/2000/svg":c=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),s!=null){for(p=0;p<s.length;p++)if((v=s[p])&&"setAttribute"in v==!!c&&(c?v.localName==c:v.nodeType==3)){e=v,s[p]=null;break}}if(e==null){if(c==null)return document.createTextNode(y);e=document.createElementNS(o,c,y.is&&y),a&&($.__m&&$.__m(t,s),a=!1),s=null}if(c==null)b===y||a&&e.data==y||(e.data=y);else{if(s=s&&le.call(e.childNodes),b=n.props||X,!a&&s!=null)for(b={},p=0;p<e.attributes.length;p++)b[(v=e.attributes[p]).name]=v.value;for(p in b)if(v=b[p],p!="children"){if(p=="dangerouslySetInnerHTML")l=v;else if(!(p in y)){if(p=="value"&&"defaultValue"in y||p=="checked"&&"defaultChecked"in y)continue;ee(e,p,null,v,o)}}for(p in y)v=y[p],p=="children"?w=v:p=="dangerouslySetInnerHTML"?h=v:p=="value"?E=v:p=="checked"?F=v:a&&typeof v!="function"||b[p]===v||ee(e,p,v,b[p],o);if(h)a||l&&(h.__html==l.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(l&&(e.innerHTML=""),nt(t.type=="template"?e.content:e,ce(w)?w:[w],t,n,r,c=="foreignObject"?"http://www.w3.org/1999/xhtml":o,s,u,s?s[0]:n.__k&&W(n,0),a,_),s!=null)for(p=s.length;p--;)Ae(s[p]);a||(p="value",c=="progress"&&E==null?e.removeAttribute("value"):E!=null&&(E!==e[p]||c=="progress"&&!E||c=="option"&&E!=b[p])&&ee(e,p,E,b[p],o),p="checked",F!=null&&F!=e[p]&&ee(e,p,F,b[p],o))}return e}function Ee(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){$.__e(o,n)}}function st(e,t,n){var r,o;if($.unmount&&$.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||Ee(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){$.__e(s,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&st(r[o],t,n||typeof e.type!="function");n||Ae(e.__e),e.__c=e.__=e.__e=void 0}function bt(e,t,n){return this.constructor(e,n)}function yt(e,t,n){var r,o,s,u;t==document&&(t=document.documentElement),$.__&&$.__(e,t),o=(r=!1)?null:t.__k,s=[],u=[],xe(t,e=t.__k=ft(ue,null,[e]),o||X,X,t.namespaceURI,o?null:t.firstChild?le.call(t.childNodes):null,s,o?o.__e:t.firstChild,r,u),at(s,e,u)}function wt(e){function t(n){var r,o;return this.getChildContext||(r=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&r.forEach(function(u){u.__e=!0,we(u)})},this.sub=function(s){r.add(s);var u=s.componentWillUnmount;s.componentWillUnmount=function(){r&&r.delete(s),u&&u.call(s)}}),n.children}return t.__c="__cC"+Qe++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}le=et.slice,$={__e:function(e,t,n,r){for(var o,s,u;t=t.__;)if((o=t.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(e)),u=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),u=o.__d),u)return o.__E=o}catch(a){e=a}throw e}},Xe=0,ne.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=M({},this.state),typeof e=="function"&&(e=e(M({},n),this.props)),e&&M(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),we(this))},ne.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),we(this))},ne.prototype.render=ue,z=[],Ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Je=function(e,t){return e.__v.__b-t.__v.__b},ie.__r=0,Ve=/(PointerCapture)$|Capture$/i,Fe=0,be=Ie(!1),ye=Ie(!0),Qe=0;var kt=0;function i(e,t,n,r,o,s){t||(t={});var u,a,_=t;if("ref"in _)for(a in _={},t)a=="ref"?u=t[a]:_[a]=t[a];var p={type:e,props:_,key:n,ref:u,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--kt,__i:-1,__u:0,__source:o,__self:s};if(typeof e=="function"&&(u=e.defaultProps))for(a in u)_[a]===void 0&&(_[a]=u[a]);return $.vnode&&$.vnode(p),p}var Z,T,me,Oe,se=0,ot=[],O=$,De=O.__b,Le=O.__r,Re=O.diffed,Me=O.__c,He=O.unmount,Be=O.__;function de(e,t){O.__h&&O.__h(T,e,se||t),se=0;var n=T.__H||(T.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function P(e){return se=1,Nt(ct,e)}function Nt(e,t,n){var r=de(Z++,2);if(r.t=e,!r.__c&&(r.__=[ct(void 0,t),function(a){var _=r.__N?r.__N[0]:r.__[0],p=r.t(_,a);_!==p&&(r.__N=[p,r.__[1]],r.__c.setState({}))}],r.__c=T,!T.__f)){var o=function(a,_,p){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(w){return!!w.__c});if(h.every(function(w){return!w.__N}))return!s||s.call(this,a,_,p);var l=r.__c.props!==a;return h.forEach(function(w){if(w.__N){var v=w.__[0];w.__=w.__N,w.__N=void 0,v!==w.__[0]&&(l=!0)}}),s&&s.call(this,a,_,p)||l};T.__f=!0;var s=T.shouldComponentUpdate,u=T.componentWillUpdate;T.componentWillUpdate=function(a,_,p){if(this.__e){var h=s;s=void 0,o(a,_,p),s=h}u&&u.call(this,a,_,p)},T.shouldComponentUpdate=o}return r.__N||r.__}function pe(e,t){var n=de(Z++,3);!O.__s&&lt(n.__H,t)&&(n.__=e,n.u=t,T.__H.__h.push(n))}function St(e){return se=5,Ft(function(){return{current:e}},[])}function Ft(e,t){var n=de(Z++,7);return lt(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function At(e){var t=T.context[e.__c],n=de(Z++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(T)),t.props.value):e.__}function xt(){for(var e;e=ot.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(re),e.__H.__h.forEach(Ne),e.__H.__h=[]}catch(t){e.__H.__h=[],O.__e(t,e.__v)}}O.__b=function(e){T=null,De&&De(e)},O.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Be&&Be(e,t)},O.__r=function(e){Le&&Le(e),Z=0;var t=(T=e.__c).__H;t&&(me===T?(t.__h=[],T.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(re),t.__h.forEach(Ne),t.__h=[],Z=0)),me=T},O.diffed=function(e){Re&&Re(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(ot.push(t)!==1&&Oe===O.requestAnimationFrame||((Oe=O.requestAnimationFrame)||Et)(xt)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),me=T=null},O.__c=function(e,t){t.some(function(n){try{n.__h.forEach(re),n.__h=n.__h.filter(function(r){return!r.__||Ne(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],O.__e(r,n.__v)}}),Me&&Me(e,t)},O.unmount=function(e){He&&He(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{re(r)}catch(o){t=o}}),n.__H=void 0,t&&O.__e(t,n.__v))};var Ue=typeof requestAnimationFrame=="function";function Et(e){var t,n=function(){clearTimeout(r),Ue&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Ue&&(t=requestAnimationFrame(n))}function re(e){var t=T,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),T=t}function Ne(e){var t=T;e.__c=e.__(),T=t}function lt(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function ct(e,t){return typeof t=="function"?t(e):t}function ut(e,t){const[n,r]=P(()=>{try{const u=window.localStorage.getItem(e);return u?JSON.parse(u):t}catch(u){return console.warn(`Error reading localStorage key "${e}":`,u),t}}),o=u=>{try{const a=u instanceof Function?u(n):u;r(a),a==null?window.localStorage.removeItem(e):window.localStorage.setItem(e,JSON.stringify(a))}catch(a){throw a instanceof Error&&a.name==="QuotaExceededError"?new Error("Storage quota exceeded. Please delete some notes or reduce image sizes."):(console.error(`Error setting localStorage key "${e}":`,a),a)}},s=()=>{try{window.localStorage.removeItem(e),r(t)}catch(u){console.error(`Error removing localStorage key "${e}":`,u)}};return pe(()=>{const u=()=>{try{const a=window.localStorage.getItem(e);a!==null&&r(JSON.parse(a))}catch(a){console.warn(`Error syncing localStorage key "${e}":`,a)}};return window.addEventListener("storage",u),()=>window.removeEventListener("storage",u)},[e]),[n,o,s]}function ae(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function oe(e){const t=new Date(e),r=new Date().getTime()-t.getTime(),o=Math.floor(r/(1e3*60)),s=Math.floor(r/(1e3*60*60)),u=Math.floor(r/(1e3*60*60*24));return o<1?"Just now":o<60?`${o}m ago`:s<24?`${s}h ago`:u<7?`${u}d ago`:t.toLocaleDateString()}function Ct(e,t){let n=null;return(...r)=>{n&&clearTimeout(n),n=setTimeout(()=>e(...r),t)}}function Se(e,t=100){return e.length<=t?e:e.substring(0,t).trim()+"..."}function $t(e,t=5){return e.length*3/4/(1024*1024)<=t}function Pt(e){return new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=n})}const Tt={plain:{type:"plain",name:"Plain Note",content:"",icon:"ðŸ“"},code:{type:"code",name:"Code Note",content:"```javascript\n// Your code here\n```",icon:"ðŸ’»"},checklist:{type:"checklist",name:"Checklist Note",content:`- [ ] First task
- [ ] Second task
- [ ] Third task`,icon:"âœ…"}};function Ce(){const[e,t]=ut("jotty-notes",[]),n=(p="plain",h)=>{const l=Tt[p],w={id:ae(),title:"Untitled Note",content:l.content,color:"#ffffff",icon:l.icon,lastEdited:Date.now(),template:p,...h};return t(v=>[w,...v]),w},r=(p,h)=>{t(l=>l.map(w=>w.id===p?{...w,...h,lastEdited:Date.now()}:w))},o=p=>{t(h=>h.filter(l=>l.id!==p))},s=p=>{const h=e.find(l=>l.id===p);if(h){const l={...h,id:ae(),title:`${h.title} (Copy)`,lastEdited:Date.now()};return t(w=>[l,...w]),l}},u=p=>e.find(h=>h.id===p),a=(p,h)=>{let l=0,w=0,v=0;if(!h){const b=new Set(e.map(c=>c.id)),y=p.filter(c=>!b.has(c.id));return y.length>0&&t(c=>[...y,...c]),{imported:y.length,overwritten:0,skipped:p.length-y.length}}const E=new Map(h.map(b=>[b.noteId,b.action])),F=new Set(e.map(b=>b.id));return t(b=>{let y=[...b];for(const c of p)if(F.has(c.id))switch(E.get(c.id)){case"overwrite":y=y.map(g=>g.id===c.id?c:g),w++;break;case"saveAsNew":const m={...c,id:ae()};y.unshift(m),l++;break;case"skip":default:v++;break}else y.unshift(c),l++;return y}),{imported:l,overwritten:w,skipped:v}};return{notes:e.sort((p,h)=>p.title.localeCompare(h.title)),createNote:n,updateNote:r,deleteNote:o,duplicateNote:s,getNoteById:u,importNotes:a}}const dt=wt(void 0),It=()=>typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",je=e=>e==="system"?It():e;function Ot({children:e}){const[t,n]=ut("jotty-theme","system");pe(()=>{const s=je(t);if(document.documentElement.setAttribute("data-theme",s),document.documentElement.className=s,t==="system"&&typeof window<"u"&&window.matchMedia){const u=window.matchMedia("(prefers-color-scheme: dark)"),a=()=>{const _=je(t);document.documentElement.setAttribute("data-theme",_),document.documentElement.className=_};return u.addEventListener("change",a),()=>u.removeEventListener("change",a)}},[t]);const o={theme:t,toggleTheme:()=>{n(s=>s==="light"?"dark":s==="dark"?"system":"light")},setTheme:n};return i(dt.Provider,{value:o,children:e})}function Dt(){const e=At(dt);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Lt({note:e,onSelect:t,onDelete:n,onDuplicate:r}){const o=a=>{a.stopPropagation(),confirm("Are you sure you want to delete this note?")&&n(e.id)},s=a=>{a.stopPropagation(),r(e.id)},u=()=>{const a=e.content.replace(/```[\s\S]*?```/g,"[Code Block]").replace(/\[CODE_BLOCK:[\w+]*\][\s\S]*?\[\/CODE_BLOCK\]/g,"[Code Block]");return Se(a,120)};return i("div",{className:"note-card",style:{backgroundColor:e.color==="#ffffff"?"var(--bg-secondary)":e.color},onClick:()=>t(e),children:[i("div",{className:"note-card-header",children:[i("span",{className:"note-icon",children:e.icon}),i("h3",{className:"note-title",children:e.title||"Untitled"}),i("div",{className:"note-actions",children:[i("button",{className:"action-btn duplicate",onClick:s,title:"Duplicate note",children:"ðŸ“‹"}),i("button",{className:"action-btn delete",onClick:o,title:"Delete note",children:"ðŸ—‘ï¸"})]})]}),i("div",{className:"note-content-preview",children:u()}),i("div",{className:"note-footer",children:[i("span",{className:"note-template",children:e.template}),i("span",{className:"note-date",children:oe(e.lastEdited)})]})]})}function Rt({conflicts:e,onResolve:t,onCancel:n}){const[r,o]=P(new Map(e.map(h=>[h.importedNote.id,"skip"]))),s=(h,l)=>{const w=new Map(r);w.set(h,l),o(w)},u=h=>{const l=new Map;e.forEach(w=>{l.set(w.importedNote.id,h)}),o(l)},a=()=>{const h=e.map(l=>({action:r.get(l.importedNote.id)||"skip",noteId:l.importedNote.id}));t(h)},p=(()=>{const h={overwrite:0,saveAsNew:0,skip:0};return r.forEach(l=>{h[l]++}),h})();return i("div",{className:"modal-overlay",onClick:n,children:i("div",{className:"modal-content duplicate-resolution-modal",onClick:h=>h.stopPropagation(),children:[i("div",{className:"modal-header",children:[i("h2",{children:"Resolve Duplicate Notes"}),i("button",{className:"close-btn",onClick:n,children:"Ã—"})]}),i("div",{className:"duplicate-info",children:[i("p",{children:["Found ",e.length," notes with matching IDs. Choose how to handle each conflict:"]}),i("div",{className:"bulk-actions",children:[i("span",{children:"Apply to all:"}),i("button",{className:"bulk-action-btn overwrite",onClick:()=>u("overwrite"),children:"ðŸ”„ Overwrite All"}),i("button",{className:"bulk-action-btn save-new",onClick:()=>u("saveAsNew"),children:"âž• Save All as New"}),i("button",{className:"bulk-action-btn skip",onClick:()=>u("skip"),children:"â­ï¸ Skip All"})]})]}),i("div",{className:"conflicts-list",children:e.map(h=>{const l=r.get(h.importedNote.id)||"skip";return i("div",{className:"conflict-item",children:[i("div",{className:"conflict-header",children:[i("h3",{children:"Duplicate Note Found"}),i("div",{className:"conflict-actions",children:[i("label",{className:`action-option ${l==="overwrite"?"selected":""}`,children:[i("input",{type:"radio",name:`action-${h.importedNote.id}`,value:"overwrite",checked:l==="overwrite",onChange:()=>s(h.importedNote.id,"overwrite")}),"ðŸ”„ Overwrite"]}),i("label",{className:`action-option ${l==="saveAsNew"?"selected":""}`,children:[i("input",{type:"radio",name:`action-${h.importedNote.id}`,value:"saveAsNew",checked:l==="saveAsNew",onChange:()=>s(h.importedNote.id,"saveAsNew")}),"âž• Save as New"]}),i("label",{className:`action-option ${l==="skip"?"selected":""}`,children:[i("input",{type:"radio",name:`action-${h.importedNote.id}`,value:"skip",checked:l==="skip",onChange:()=>s(h.importedNote.id,"skip")}),"â­ï¸ Skip"]})]})]}),i("div",{className:"conflict-comparison",children:[i("div",{className:"note-version existing",children:[i("h4",{children:"Existing Note"}),i("div",{className:"note-preview",children:[i("div",{className:"note-header",children:[i("span",{className:"note-icon",children:h.existingNote.icon}),i("span",{className:"note-title",children:h.existingNote.title||"Untitled"})]}),i("div",{className:"note-content",children:Se(h.existingNote.content,100)}),i("div",{className:"note-meta",children:[h.existingNote.template," â€¢ ",oe(h.existingNote.lastEdited)]})]})]}),i("div",{className:"vs-divider",children:"VS"}),i("div",{className:"note-version imported",children:[i("h4",{children:"Imported Note"}),i("div",{className:"note-preview",children:[i("div",{className:"note-header",children:[i("span",{className:"note-icon",children:h.importedNote.icon}),i("span",{className:"note-title",children:h.importedNote.title||"Untitled"})]}),i("div",{className:"note-content",children:Se(h.importedNote.content,100)}),i("div",{className:"note-meta",children:[h.importedNote.template," â€¢ ",oe(h.importedNote.lastEdited)]})]})]})]})]},h.importedNote.id)})}),i("div",{className:"resolution-summary",children:[i("div",{className:"action-summary",children:[i("span",{children:"Summary: "}),p.overwrite>0&&i("span",{className:"count overwrite",children:[p.overwrite," to overwrite"]}),p.saveAsNew>0&&i("span",{className:"count save-new",children:[p.saveAsNew," to save as new"]}),p.skip>0&&i("span",{className:"count skip",children:[p.skip," to skip"]})]}),i("div",{className:"resolution-actions",children:[i("button",{className:"cancel-btn",onClick:n,children:"Cancel Import"}),i("button",{className:"apply-btn",onClick:a,children:"Apply Resolutions"})]})]})]})})}function Mt({notes:e,onClose:t,onExport:n,onImport:r}){const[o,s]=P("export"),[u,a]=P(new Set),[_,p]=P(null),[h,l]=P(null),[w,v]=P([]),[E,F]=P(!1),b=()=>{u.size===e.length?a(new Set):a(new Set(e.map(g=>g.id)))},y=g=>{const k=new Set(u);k.has(g)?k.delete(g):k.add(g),a(k)},c=()=>{const g=e.filter(k=>u.has(k.id));n(g)},d=async g=>{const k=g.target,A=k.files?.[0];if(A){try{const N=await A.text(),S=JSON.parse(N);if(!Array.isArray(S))throw new Error("Invalid file format: Expected an array of notes");for(const D of S)if(!D.id||D.title===void 0||D.content===void 0)throw new Error("Invalid note format: Missing required fields");const x=new Set(e.map(D=>D.id)),C=[];for(const D of S)if(x.has(D.id)){const U=e.find(H=>H.id===D.id);C.push({importedNote:D,existingNote:U})}C.length>0?(l(S),v(C),F(!0)):r(S),p(null)}catch(N){p(N instanceof Error?N.message:"Failed to import notes")}k.value=""}},f=g=>{h&&r(h,g),F(!1),l(null),v([])},m=()=>{F(!1),l(null),v([])};return i("div",{className:"modal-overlay",onClick:t,children:i("div",{className:"modal-content export-import-modal",onClick:g=>g.stopPropagation(),children:[i("div",{className:"modal-header",children:[i("h2",{children:"Export/Import Notes"}),i("button",{className:"close-btn",onClick:t,children:"Ã—"})]}),i("div",{className:"modal-tabs",children:[i("button",{className:`tab-btn ${o==="export"?"active":""}`,onClick:()=>s("export"),children:"ðŸ“¤ Export"}),i("button",{className:`tab-btn ${o==="import"?"active":""}`,onClick:()=>s("import"),children:"ðŸ“¥ Import"})]}),o==="export"?i("div",{className:"export-section",children:[i("div",{className:"export-header",children:[i("p",{children:["Select notes to export (",u.size," of ",e.length," selected)"]}),i("button",{className:"select-all-btn",onClick:b,children:u.size===e.length?"Deselect All":"Select All"})]}),i("div",{className:"notes-selection-list",children:e.map(g=>i("label",{className:"note-selection-item",children:[i("input",{type:"checkbox",checked:u.has(g.id),onChange:()=>y(g.id)}),i("div",{className:"note-selection-info",children:[i("span",{className:"note-icon",children:g.icon}),i("div",{className:"note-details",children:[i("div",{className:"note-title",children:g.title||"Untitled"}),i("div",{className:"note-meta",children:[g.template," â€¢ ",oe(g.lastEdited)]})]})]})]},g.id))}),i("div",{className:"export-actions",children:i("button",{className:"export-btn primary",onClick:c,disabled:u.size===0,children:["Export Selected Notes (",u.size,")"]})})]}):i("div",{className:"import-section",children:[i("div",{className:"import-info",children:[i("p",{children:"Import notes from a JSON file. This will add the imported notes to your existing collection."}),i("p",{className:"import-warning",children:"â„¹ï¸ If duplicate notes are found, you'll be able to choose how to handle them."})]}),i("div",{className:"file-input-container",children:[i("input",{type:"file",accept:".json",onChange:d,className:"file-input",id:"import-file"}),i("label",{htmlFor:"import-file",className:"file-input-label",children:"ðŸ“ Choose JSON File"})]}),_&&i("div",{className:"import-error",children:[i("strong",{children:"Import Error:"})," ",_]}),i("div",{className:"import-help",children:[i("h4",{children:"Expected JSON Format:"}),i("pre",{className:"json-example",children:`[
  {
    "id": "unique-id",
    "title": "Note Title",
    "content": "Note content...",
    "color": "#ffffff",
    "icon": "ðŸ“",
    "template": "plain",
    "lastEdited": 1234567890
  }
]`})]})]}),E&&i(Rt,{conflicts:w,onResolve:f,onCancel:m})]})})}function Ht({onNoteSelect:e,onCreateNote:t}){const{notes:n,deleteNote:r,duplicateNote:o,importNotes:s}=Ce(),{theme:u,toggleTheme:a}=Dt(),[_,p]=P(""),[h,l]=P(!1),w=n.filter(b=>b.title.toLowerCase().includes(_.toLowerCase())||b.content.toLowerCase().includes(_.toLowerCase())),v=(b="plain")=>{const y={plain:{content:"",icon:"ðŸ“"},code:{content:"```javascript\n// Your code here\n```",icon:"ðŸ’»"},checklist:{content:`- [ ] First task
- [ ] Second task
- [ ] Third task`,icon:"âœ…"}},c={id:ae(),title:"Untitled Note",content:y[b].content,color:"#ffffff",icon:y[b].icon,lastEdited:Date.now(),template:b};t(c)},E=b=>{const y=JSON.stringify(b,null,2),c=new Blob([y],{type:"application/json"}),d=URL.createObjectURL(c),f=document.createElement("a");f.href=d,f.download=`jotty-notes-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(d),l(!1)},F=(b,y)=>{const c=s(b,y);l(!1);const d=[];c.imported>0&&d.push(`${c.imported} imported`),c.overwritten>0&&d.push(`${c.overwritten} overwritten`),c.skipped>0&&d.push(`${c.skipped} skipped`),d.length>0?alert(`Import completed: ${d.join(", ")}`):alert("No changes were made during import.")};return i("div",{className:"notes-list-container",children:[i("header",{className:"app-header",children:[i("h1",{children:"Jotty"}),i("div",{className:"header-actions",children:[i("button",{className:"export-import-btn",onClick:()=>l(!0),title:"Export/Import Notes",children:"ðŸ“"}),i("button",{className:"theme-toggle",onClick:a,title:`Switch to ${u==="light"?"dark":u==="dark"?"system":"light"} mode`,children:u==="light"?"ðŸŒ™":u==="dark"?"ðŸŒ“":"â˜€ï¸"})]})]}),i("div",{className:"toolbar",children:[i("div",{className:"search-bar",children:i("input",{type:"text",placeholder:"Search notes...",value:_,onInput:b=>p(b.target.value),className:"search-input"})}),i("div",{className:"create-buttons",children:[i("button",{className:"create-btn primary",onClick:()=>v("plain"),children:"ðŸ“ New Note"}),i("button",{className:"create-btn",onClick:()=>v("code"),children:"ðŸ’» Code"}),i("button",{className:"create-btn",onClick:()=>v("checklist"),children:"âœ… Checklist"})]})]}),i("div",{className:"notes-grid",children:w.length===0?i("div",{className:"empty-state",children:[i("p",{children:"No notes found"}),i("button",{className:"create-btn primary",onClick:()=>v("plain"),children:"Create your first note"})]}):w.map(b=>i(Lt,{note:b,onSelect:e,onDelete:r,onDuplicate:o},b.id))}),h&&i(Mt,{notes:n,onClose:()=>l(!1),onExport:E,onImport:F})]})}var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _e={exports:{}},Ge;function Ut(){return Ge||(Ge=1,(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=(function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,u={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function c(d){return d instanceof _?new _(d.type,c(d.content),d.alias):Array.isArray(d)?d.map(c):d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(c){return Object.prototype.toString.call(c).slice(8,-1)},objId:function(c){return c.__id||Object.defineProperty(c,"__id",{value:++s}),c.__id},clone:function c(d,f){f=f||{};var m,g;switch(a.util.type(d)){case"Object":if(g=a.util.objId(d),f[g])return f[g];m={},f[g]=m;for(var k in d)d.hasOwnProperty(k)&&(m[k]=c(d[k],f));return m;case"Array":return g=a.util.objId(d),f[g]?f[g]:(m=[],f[g]=m,d.forEach(function(A,N){m[N]=c(A,f)}),m);default:return d}},getLanguage:function(c){for(;c;){var d=o.exec(c.className);if(d)return d[1].toLowerCase();c=c.parentElement}return"none"},setLanguage:function(c,d){c.className=c.className.replace(RegExp(o,"gi"),""),c.classList.add("language-"+d)},currentScript:function(){if(typeof document>"u")return null;if(document.currentScript&&document.currentScript.tagName==="SCRIPT")return document.currentScript;try{throw new Error}catch(m){var c=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(m.stack)||[])[1];if(c){var d=document.getElementsByTagName("script");for(var f in d)if(d[f].src==c)return d[f]}return null}},isActive:function(c,d,f){for(var m="no-"+d;c;){var g=c.classList;if(g.contains(d))return!0;if(g.contains(m))return!1;c=c.parentElement}return!!f}},languages:{plain:u,plaintext:u,text:u,txt:u,extend:function(c,d){var f=a.util.clone(a.languages[c]);for(var m in d)f[m]=d[m];return f},insertBefore:function(c,d,f,m){m=m||a.languages;var g=m[c],k={};for(var A in g)if(g.hasOwnProperty(A)){if(A==d)for(var N in f)f.hasOwnProperty(N)&&(k[N]=f[N]);f.hasOwnProperty(A)||(k[A]=g[A])}var S=m[c];return m[c]=k,a.languages.DFS(a.languages,function(x,C){C===S&&x!=c&&(this[x]=k)}),k},DFS:function c(d,f,m,g){g=g||{};var k=a.util.objId;for(var A in d)if(d.hasOwnProperty(A)){f.call(d,A,d[A],m||A);var N=d[A],S=a.util.type(N);S==="Object"&&!g[k(N)]?(g[k(N)]=!0,c(N,f,null,g)):S==="Array"&&!g[k(N)]&&(g[k(N)]=!0,c(N,f,A,g))}}},plugins:{},highlightAll:function(c,d){a.highlightAllUnder(document,c,d)},highlightAllUnder:function(c,d,f){var m={callback:f,container:c,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",m),m.elements=Array.prototype.slice.apply(m.container.querySelectorAll(m.selector)),a.hooks.run("before-all-elements-highlight",m);for(var g=0,k;k=m.elements[g++];)a.highlightElement(k,d===!0,m.callback)},highlightElement:function(c,d,f){var m=a.util.getLanguage(c),g=a.languages[m];a.util.setLanguage(c,m);var k=c.parentElement;k&&k.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(k,m);var A=c.textContent,N={element:c,language:m,grammar:g,code:A};function S(C){N.highlightedCode=C,a.hooks.run("before-insert",N),N.element.innerHTML=N.highlightedCode,a.hooks.run("after-highlight",N),a.hooks.run("complete",N),f&&f.call(N.element)}if(a.hooks.run("before-sanity-check",N),k=N.element.parentElement,k&&k.nodeName.toLowerCase()==="pre"&&!k.hasAttribute("tabindex")&&k.setAttribute("tabindex","0"),!N.code){a.hooks.run("complete",N),f&&f.call(N.element);return}if(a.hooks.run("before-highlight",N),!N.grammar){S(a.util.encode(N.code));return}if(d&&r.Worker){var x=new Worker(a.filename);x.onmessage=function(C){S(C.data)},x.postMessage(JSON.stringify({language:N.language,code:N.code,immediateClose:!0}))}else S(a.highlight(N.code,N.grammar,N.language))},highlight:function(c,d,f){var m={code:c,grammar:d,language:f};if(a.hooks.run("before-tokenize",m),!m.grammar)throw new Error('The language "'+m.language+'" has no grammar.');return m.tokens=a.tokenize(m.code,m.grammar),a.hooks.run("after-tokenize",m),_.stringify(a.util.encode(m.tokens),m.language)},tokenize:function(c,d){var f=d.rest;if(f){for(var m in f)d[m]=f[m];delete d.rest}var g=new l;return w(g,g.head,c),h(c,g,d,g.head,0),E(g)},hooks:{all:{},add:function(c,d){var f=a.hooks.all;f[c]=f[c]||[],f[c].push(d)},run:function(c,d){var f=a.hooks.all[c];if(!(!f||!f.length))for(var m=0,g;g=f[m++];)g(d)}},Token:_};r.Prism=a;function _(c,d,f,m){this.type=c,this.content=d,this.alias=f,this.length=(m||"").length|0}_.stringify=function c(d,f){if(typeof d=="string")return d;if(Array.isArray(d)){var m="";return d.forEach(function(S){m+=c(S,f)}),m}var g={type:d.type,content:c(d.content,f),tag:"span",classes:["token",d.type],attributes:{},language:f},k=d.alias;k&&(Array.isArray(k)?Array.prototype.push.apply(g.classes,k):g.classes.push(k)),a.hooks.run("wrap",g);var A="";for(var N in g.attributes)A+=" "+N+'="'+(g.attributes[N]||"").replace(/"/g,"&quot;")+'"';return"<"+g.tag+' class="'+g.classes.join(" ")+'"'+A+">"+g.content+"</"+g.tag+">"};function p(c,d,f,m){c.lastIndex=d;var g=c.exec(f);if(g&&m&&g[1]){var k=g[1].length;g.index+=k,g[0]=g[0].slice(k)}return g}function h(c,d,f,m,g,k){for(var A in f)if(!(!f.hasOwnProperty(A)||!f[A])){var N=f[A];N=Array.isArray(N)?N:[N];for(var S=0;S<N.length;++S){if(k&&k.cause==A+","+S)return;var x=N[S],C=x.inside,D=!!x.lookbehind,U=!!x.greedy,H=x.alias;if(U&&!x.pattern.global){var j=x.pattern.toString().match(/[imsuy]*$/)[0];x.pattern=RegExp(x.pattern.source,j+"g")}for(var G=x.pattern||x,I=m.next,L=g;I!==d.tail&&!(k&&L>=k.reach);L+=I.value.length,I=I.next){var q=I.value;if(d.length>c.length)return;if(!(q instanceof _)){var Y=1,R;if(U){if(R=p(G,L,c,D),!R||R.index>=c.length)break;var J=R.index,pt=R.index+R[0].length,B=L;for(B+=I.value.length;J>=B;)I=I.next,B+=I.value.length;if(B-=I.value.length,L=B,I.value instanceof _)continue;for(var K=I;K!==d.tail&&(B<pt||typeof K.value=="string");K=K.next)Y++,B+=K.value.length;Y--,q=c.slice(L,B),R.index-=L}else if(R=p(G,0,q,D),!R)continue;var J=R.index,V=R[0],he=q.slice(0,J),$e=q.slice(J+V.length),ge=L+q.length;k&&ge>k.reach&&(k.reach=ge);var Q=I.prev;he&&(Q=w(d,Q,he),L+=he.length),v(d,Q,Y);var ht=new _(A,C?a.tokenize(V,C):V,H,V);if(I=w(d,Q,ht),$e&&w(d,I,$e),Y>1){var fe={cause:A+","+S,reach:ge};h(c,d,f,I.prev,L,fe),k&&fe.reach>k.reach&&(k.reach=fe.reach)}}}}}}function l(){var c={value:null,prev:null,next:null},d={value:null,prev:c,next:null};c.next=d,this.head=c,this.tail=d,this.length=0}function w(c,d,f){var m=d.next,g={value:f,prev:d,next:m};return d.next=g,m.prev=g,c.length++,g}function v(c,d,f){for(var m=d.next,g=0;g<f&&m!==c.tail;g++)m=m.next;d.next=m,m.prev=d,c.length-=g}function E(c){for(var d=[],f=c.head.next;f!==c.tail;)d.push(f.value),f=f.next;return d}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(c){var d=JSON.parse(c.data),f=d.language,m=d.code,g=d.immediateClose;r.postMessage(a.highlight(m,a.languages[f],f)),g&&r.close()},!1)),a;var F=a.util.currentScript();F&&(a.filename=F.src,F.hasAttribute("data-manual")&&(a.manual=!0));function b(){a.manual||a.highlightAll()}if(!a.manual){var y=document.readyState;y==="loading"||y==="interactive"&&F&&F.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return a})(t);e.exports&&(e.exports=n),typeof ze<"u"&&(ze.Prism=n),n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(o,s){var u={};u["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[s]},u.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:u}};a["language-"+s]={pattern:/[\s\S]+/,inside:n.languages[s]};var _={};_[o]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return o}),"i"),lookbehind:!0,greedy:!0,inside:a},n.languages.insertBefore("markup","cdata",_)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(r,o){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[o,"language-"+o],inside:n.languages[o]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml,(function(r){var o=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+o.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+o.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+o.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+o.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:o,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))})(n),n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript,(function(){if(typeof n>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loadingâ€¦",o=function(F,b){return"âœ– Error "+F+" while fetching file: "+b},s="âœ– Error: File does not exist or is empty",u={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",_="loading",p="loaded",h="failed",l="pre[data-src]:not(["+a+'="'+p+'"]):not(['+a+'="'+_+'"])';function w(F,b,y){var c=new XMLHttpRequest;c.open("GET",F,!0),c.onreadystatechange=function(){c.readyState==4&&(c.status<400&&c.responseText?b(c.responseText):c.status>=400?y(o(c.status,c.statusText)):y(s))},c.send(null)}function v(F){var b=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(F||"");if(b){var y=Number(b[1]),c=b[2],d=b[3];return c?d?[y,Number(d)]:[y,void 0]:[y,y]}}n.hooks.add("before-highlightall",function(F){F.selector+=", "+l}),n.hooks.add("before-sanity-check",function(F){var b=F.element;if(b.matches(l)){F.code="",b.setAttribute(a,_);var y=b.appendChild(document.createElement("CODE"));y.textContent=r;var c=b.getAttribute("data-src"),d=F.language;if(d==="none"){var f=(/\.(\w+)$/.exec(c)||[,"none"])[1];d=u[f]||f}n.util.setLanguage(y,d),n.util.setLanguage(b,d);var m=n.plugins.autoloader;m&&m.loadLanguages(d),w(c,function(g){b.setAttribute(a,p);var k=v(b.getAttribute("data-range"));if(k){var A=g.split(/\r\n?|\n/g),N=k[0],S=k[1]==null?A.length:k[1];N<0&&(N+=A.length),N=Math.max(0,Math.min(N-1,A.length)),S<0&&(S+=A.length),S=Math.max(0,Math.min(S,A.length)),g=A.slice(N,S).join(`
`),b.hasAttribute("data-start")||b.setAttribute("data-start",String(N+1))}y.textContent=g,n.highlightElement(y)},function(g){b.setAttribute(a,h),y.textContent=g})}}),n.plugins.fileHighlight={highlight:function(b){for(var y=(b||document).querySelectorAll(l),c=0,d;d=y[c++];)n.highlightElement(d)}};var E=!1;n.fileHighlight=function(){E||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),E=!0),n.plugins.fileHighlight.highlight.apply(this,arguments)}})()})(_e)),_e.exports}var jt=Ut();const ve=Bt(jt);Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;var qe={},We;function zt(){return We||(We=1,(function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript})(Prism)),qe}zt();var Ze={},Ke;function Gt(){return Ke||(Ke=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),Ze}Gt();(function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))})(Prism);Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}};Prism.languages.webmanifest=Prism.languages.json;(function(e){var t="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+t),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+t),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+t),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+t),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=e.languages.bash;for(var o=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=r.variable[1].inside,u=0;u<o.length;u++)s[o[u]]=e.languages.bash[o[u]];e.languages.sh=e.languages.bash,e.languages.shell=e.languages.bash})(Prism);Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(t,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};o["language-"+n]={pattern:/[\s\S]+/,inside:Prism.languages[n]};var s={};s[t]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return t}),"i"),lookbehind:!0,greedy:!0,inside:o},Prism.languages.insertBefore("markup","cdata",s)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;const qt=[{value:"javascript",label:"JavaScript"},{value:"typescript",label:"TypeScript"},{value:"python",label:"Python"},{value:"css",label:"CSS"},{value:"html",label:"HTML"},{value:"json",label:"JSON"},{value:"bash",label:"Bash"},{value:"plaintext",label:"Plain Text"}];function Wt({language:e,code:t,onLanguageChange:n,onCodeChange:r,readOnly:o=!1}){const[s,u]=P(!1),[a,_]=P("");pe(()=>{(()=>{try{if(e==="plaintext"||!ve.languages[e]){_(t);return}const l=ve.highlight(t,ve.languages[e],e);_(l)}catch{_(t)}})()},[t,e]);const p=async()=>{try{await navigator.clipboard.writeText(t)}catch(h){console.error("Failed to copy code:",h)}};return i("div",{className:"code-block",children:[i("div",{className:"code-block-header",children:[i("select",{value:e,onChange:h=>n?.(h.target.value),className:"language-selector",disabled:!n,children:qt.map(h=>i("option",{value:h.value,children:h.label},h.value))}),i("div",{className:"code-actions",children:[i("button",{className:"code-action-btn",onClick:p,title:"Copy code",children:"ðŸ“‹"}),i("button",{className:"code-action-btn",onClick:()=>u(!s),title:s?"Collapse":"Expand",children:s?"ðŸ“‰":"ðŸ“ˆ"})]})]}),i("div",{className:`code-content ${s?"expanded":""}`,children:o?i("pre",{className:"code-display",children:i("code",{className:`language-${e}`,dangerouslySetInnerHTML:{__html:a}})}):i("textarea",{className:"code-editor",value:t,onInput:h=>r?.(h.target.value),placeholder:"Enter your code here...",spellcheck:!1})})]})}const Zt=["#ffffff","#f8f9fa","#e9ecef","#dee2e6","#ffeaa7","#fdcb6e","#e17055","#d63031","#fab1a0","#e84393","#a29bfe","#6c5ce7","#74b9ff","#0984e3","#00b894","#00cec9","#55a3ff","#5f27cd","#00d2d3","#ff9ff3","#54a0ff","#2e86de","#f368e0","#ff3838"];function Kt({currentColor:e,onColorChange:t,onClose:n}){const[r,o]=P(e),s=a=>{t(a)},u=a=>{o(a),t(a)};return i("div",{className:"color-picker-overlay",onClick:n,children:i("div",{className:"color-picker",onClick:a=>a.stopPropagation(),children:[i("div",{className:"color-picker-header",children:[i("h3",{children:"Choose Color"}),i("button",{className:"close-btn",onClick:n,children:"Ã—"})]}),i("div",{className:"preset-colors",children:[i("h4",{children:"Preset Colors"}),i("div",{style:{overflowY:"auto",maxHeight:"300px"},children:i("div",{className:"color-grid",children:Zt.map(a=>i("button",{className:`color-swatch ${e===a?"selected":""}`,style:{backgroundColor:a},onClick:()=>s(a),title:a},a))})})]}),i("div",{className:"custom-color",children:[i("h4",{children:"Custom Color"}),i("div",{className:"custom-color-input",children:[i("input",{type:"color",value:r,onInput:a=>u(a.target.value)}),i("input",{type:"text",value:r,onInput:a=>u(a.target.value),placeholder:"#ffffff",pattern:"^#[0-9A-Fa-f]{6}$"})]})]})]})})}const Xt=["ðŸ“","ðŸ“„","ðŸ“‹","ðŸ“Œ","ðŸ“","ðŸ“Ž","ðŸ“š","ðŸ“–","ðŸ’¡","ðŸ’»","ðŸ’¾","ðŸ”","ðŸ”§","ðŸ”¨","âš¡","â­","â¤ï¸","ðŸ’¯","ðŸŽ¯","ðŸŽ¨","ðŸŽ­","ðŸŽª","ðŸŽµ","ðŸŽ¸","ðŸš€","ðŸŒŸ","ðŸŒ™","â˜€ï¸","ðŸŒˆ","ðŸŒ¸","ðŸŒº","ðŸŒ»","âœ…","âŒ","âš ï¸","ðŸ’°","ðŸŽ","ðŸ†","ðŸ”‘","ðŸ“Š","ðŸ“ˆ","ðŸ“‰","ðŸ“…","â°","ðŸ•","â˜•","ðŸŽ","ðŸŽ‚"];function Yt({currentIcon:e,onIconChange:t,onClose:n}){return i("div",{className:"icon-picker-overlay",onClick:n,children:i("div",{className:"icon-picker",onClick:r=>r.stopPropagation(),children:[i("div",{className:"icon-picker-header",children:[i("h3",{children:"Choose Icon"}),i("button",{className:"close-btn",onClick:n,children:"Ã—"})]}),i("div",{style:{overflowY:"auto",maxHeight:"300px"},children:i("div",{className:"icon-grid",children:Xt.map(r=>i("button",{className:`icon-option ${e===r?"selected":""}`,onClick:()=>t(r),children:r},r))})})]})})}function Jt({onImageUpload:e}){const t=St(null),[n,r]=P(!1),[o,s]=P(null);return i("div",{className:"image-uploader",children:[i("input",{ref:t,type:"file",accept:"image/*",onChange:async _=>{const h=_.target.files?.[0];if(h){if(!h.type.startsWith("image/")){s("Please select an image file");return}r(!0),s(null);try{const l=await Pt(h);if(!$t(l,5)){s("Image too large. Please choose an image smaller than 5MB."),r(!1);return}e(l),r(!1),t.current&&(t.current.value="")}catch{s("Failed to upload image. Please try again."),r(!1)}}},style:{display:"none"}}),i("button",{className:"tool-btn",onClick:()=>{t.current?.click()},disabled:n,title:"Upload image",children:n?"â³":"ðŸ–¼ï¸"}),o&&i("div",{className:"upload-error",children:o})]})}function Vt({note:e,onBack:t,isNewNote:n=!1}){const{updateNote:r,createNote:o}=Ce(),[s,u]=P(e?.title||""),[a,_]=P(e?.content||""),[p,h]=P(!1),[l,w]=P(!1),[v,E]=P(!n),[F,b]=P(!n);pe(()=>{e&&(u(e.title),_(e.content))},[e]);const y=Ct(S=>{if(e)if(n&&!v){const x=S.content&&S.content.trim()!==""&&S.content.trim()!==e.content?.trim(),C=S.title&&S.title.trim()!==""&&S.title.trim()!=="Untitled Note";(x||C)&&(o(e.template,{...e,...S}),E(!0))}else v&&r(e.id,S)},500),c=S=>{u(S),y({title:S,content:a})},d=S=>{const x=m(S);_(x),y({title:s,content:x})},f=()=>{if(e)if(n&&!v){const S=a&&a.trim()!==""&&a.trim()!==e.content?.trim(),x=s&&s.trim()!==""&&s.trim()!=="Untitled Note";(S||x)&&o(e.template,{...e,title:s,content:a})}else v&&r(e.id,{title:s,content:a});t()},m=S=>S.replace(/```(\w*)\s*\n?([\s\S]*?)\n?\s*```/g,(x,C,D)=>`
[CODE_BLOCK:${C||"javascript"}]
${D.trim()}
[/CODE_BLOCK]
`),g=S=>S.split(/(\[CODE_BLOCK:(\w+)\]\n[\s\S]*?\n\[\/CODE_BLOCK\])/g).map((C,D)=>{const U=C.match(/\[CODE_BLOCK:(\w+)\]\n([\s\S]*?)\n\[\/CODE_BLOCK\]/);if(U){const[H,j,G]=U;return i(Wt,{language:j,code:G,readOnly:F,onLanguageChange:I=>{const L=S.replace(H,`[CODE_BLOCK:${I}]
${G}
[/CODE_BLOCK]`);_(L),y({title:s,content:L})},onCodeChange:F?void 0:I=>{const L=S.replace(H,`[CODE_BLOCK:${j}]
${I}
[/CODE_BLOCK]`);_(L),y({title:s,content:L})}},`${D}-${j}-${G.slice(0,10)}`)}return C?i("div",{className:"text-content",children:C.split(`
`).map((H,j)=>i("div",{children:H},j))},D):null}),k=S=>{e&&(r(e.id,{color:S}),h(!1))},A=S=>{e&&(r(e.id,{icon:S}),w(!1))},N=S=>{e&&r(e.id,{image:S})};return e?i("div",{className:"note-editor-container",children:[i("header",{className:"editor-header",children:[i("button",{className:"back-btn",onClick:f,children:"â† Back"}),i("div",{className:"editor-tools",children:[i("button",{className:"tool-btn",onClick:()=>w(!l),title:"Change icon",children:e.icon}),i("button",{className:"tool-btn color-btn",onClick:()=>h(!p),style:{backgroundColor:e.color},title:"Change color",children:"ðŸŽ¨"}),i(Jt,{onImageUpload:N})]})]}),p&&i(Kt,{currentColor:e.color,onColorChange:k,onClose:()=>h(!1)}),l&&i(Yt,{currentIcon:e.icon,onIconChange:A,onClose:()=>w(!1)}),i("div",{className:"editor-content",style:{backgroundColor:e.color==="#ffffff"?"var(--bg-secondary)":e.color},children:[e.image&&i("div",{className:"note-image",children:i("img",{src:e.image,alt:"Note attachment"})}),i("input",{type:"text",className:"note-title-input",value:s,onInput:S=>c(S.target.value),placeholder:"Note title..."}),i("div",{className:"note-content-container",children:[F?i("div",{className:"note-content-rendered",children:g(a)}):i("textarea",{className:"note-content-input",value:a,onInput:S=>d(S.target.value),placeholder:"Start typing... Use ``` for code blocks",rows:20}),i("button",{className:"toggle-edit-mode",onClick:()=>{b(!F)},children:F?"âœï¸ Edit":"ðŸ‘ï¸ Preview"})]})]})]}):i("div",{children:"No note selected"})}function Qt(){const{notes:e}=Ce(),[t,n]=P(null),[r,o]=P(null),[s,u]=P(!1),[a,_]=P(!1),p=t?e.find(v=>v.id===t)||r:null;return i(Ot,{children:i("div",{className:"app",children:s?i(Vt,{note:p,onBack:()=>{n(null),o(null),u(!1),_(!1)},isNewNote:a}):i(Ht,{onNoteSelect:v=>{n(v.id),o(v),u(!0),_(!1)},onCreateNote:v=>{n(v.id),o(v),u(!0),_(!0)}})})})}yt(i(Qt,{}),document.getElementById("app"));
